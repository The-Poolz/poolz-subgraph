specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: VaultManager
    network: base
    source:
      address: "0x7ff9315f538df7ec76ec4815249dd30519726460"
      abi: VaultManager
      startBlock: 12374159
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Deposited
        - NewVaultCreated
        - OwnershipTransferred
        - VaultRoyaltySet
        - VaultStatusUpdate
        - Withdrawn
        - Vault
      abis:
        - name: VaultManager
          file: ./abis/VaultManager.json
      eventHandlers:
        - event: Deposited(indexed uint256,indexed address,uint256)
          handler: handleDeposited
        - event: NewVaultCreated(indexed uint256,indexed address)
          handler: handleNewVaultCreated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: VaultRoyaltySet(uint256,indexed address,indexed address,indexed uint96)
          handler: handleVaultRoyaltySet
        - event: VaultStatusUpdate(indexed uint256,indexed bool,indexed bool)
          handler: handleVaultStatusUpdate
        - event: Withdrawn(indexed uint256,indexed address,indexed address,uint256)
          handler: handleWithdrawn
      file: ./src/vault-manager.ts
  - kind: ethereum
    name: LockDealNFT
    network: base
    source:
      address: "0xb16BBDf683fFd6D92290F7610bb10f22f9c71e9e"
      abi: LockDealNFT
      startBlock: 12374279
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Approval
        - ApprovalForAll
        - BaseURIChanged
        - BatchMetadataUpdate
        - ContractApproved
        - MetadataUpdate
        - LockDealNFTOwnershipTransferred
        - PoolSplit
        - TokenWithdrawn
        - Transfer
        - AllowedContract
        - PoolData
      abis:
        - name: LockDealNFT
          file: ./abis/LockDealNFT.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,indexed uint256)
          handler: handleApproval
        - event: ApprovalForAll(indexed address,indexed address,bool)
          handler: handleApprovalForAll
        - event: BaseURIChanged(string,string)
          handler: handleBaseURIChanged
        - event: BatchMetadataUpdate(uint256,uint256)
          handler: handleBatchMetadataUpdate
        - event: ContractApproved(indexed address,bool)
          handler: handleContractApproved
        - event: MetadataUpdate(uint256)
          handler: handleMetadataUpdate
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: PoolSplit(uint256,indexed address,uint256,indexed address,uint256,uint256)
          handler: handlePoolSplit
        - event: TokenWithdrawn(uint256,indexed address,uint256,uint256)
          handler: handleTokenWithdrawn
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/lock-deal-nft.ts
  - kind: ethereum
    name: DealProvider
    network: base
    source:
      address: "0x9ba7036aa978509714D137bA7f98e8f66872c19F"
      abi: DealProvider
      startBlock: 28965218
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - FirewallAdminUpdated
        - FirewallUpdated
        - DealProviderUpdateParams
      abis:
        - name: DealProvider
          file: ./abis/DealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/deal-provider.ts
  - kind: ethereum
    name: LockDealProvider
    network: base
    source:
      address: "0xbB407809BadB136E1db0ddb53478D5a830D83805"
      abi: LockDealProvider
      startBlock: 28965227
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - LockDealProviderFirewallAdminUpdated
        - LockDealProviderFirewallUpdated
        - LockDealProviderUpdateParams
      abis:
        - name: LockDealProvider
          file: ./abis/LockDealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/lock-deal-provider.ts
  - kind: ethereum
    name: TimedDealProvider
    network: base
    source:
      address: "0x83FF82f14920025576Cd04046335c4b748759121"
      abi: TimedDealProvider
      startBlock: 28965234
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - TimedDealProviderFirewallAdminUpdated
        - TimedDealProviderFirewallUpdated
        - TimedDealProviderUpdateParams
      abis:
        - name: TimedDealProvider
          file: ./abis/TimedDealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/timed-deal-provider.ts
  - kind: ethereum
    name: DispenserProvider
    network: base
    source:
      address: "0x6145F338eCf142813a9Cfcf02A9f95cFC300cfb7"
      abi: DispenserProvider
      startBlock: 28965242
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - EIP712DomainChanged
        - DispenserProviderFirewallAdminUpdated
        - DispenserProviderFirewallUpdated
        - PoolCreated
        - TokensDispensed
        - DispenserProviderUpdateParams
        - DispenserTokenReserve
      abis:
        - name: DispenserProvider
          file: ./abis/DispenserProvider.json
      eventHandlers:
        - event: EIP712DomainChanged()
          handler: handleEIP712DomainChanged
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: PoolCreated(indexed uint256,indexed address)
          handler: handlePoolCreated
        - event: TokensDispensed(indexed uint256,indexed address,uint256,uint256)
          handler: handleTokensDispensed
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/dispenser-provider.ts
  - kind: ethereum
    name: OldDealProvider
    network: base
    source:
      address: "0x2Bb9cFF524C76eb2eA27bC6cDbB93447115D8dcC"
      abi: DealProvider
      startBlock: 12374300
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - OldDealProviderFirewallAdminUpdated
        - OldDealProviderFirewallUpdated
        - OldDealProviderUpdateParams
      abis:
        - name: DealProvider
          file: ./abis/DealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/old-deal-provider.ts
  - kind: ethereum
    name: OldLockDealProvider
    network: base
    source:
      address: "0x6d77B5147CDE6Fa287c1266A33e09a09651D36d0"
      abi: LockDealProvider
      startBlock: 12374314
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - OldLockDealProviderFirewallAdminUpdated
        - OldLockDealProviderFirewallUpdated
        - OldLockDealProviderUpdateParams
      abis:
        - name: LockDealProvider
          file: ./abis/LockDealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/old-lock-deal-provider.ts
  - kind: ethereum
    name: OldTimedDealProvider
    network: base
    source:
      address: "0x3c845DbB07BdFdD73FbC5Df4bA47EdeA20BCa489"
      abi: TimedDealProvider
      startBlock: 12374325
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - OldTimedDealProviderFirewallAdminUpdated
        - OldTimedDealProviderFirewallUpdated
        - OldTimedDealProviderUpdateParams
      abis:
        - name: TimedDealProvider
          file: ./abis/TimedDealProvider.json
      eventHandlers:
        - event: FirewallAdminUpdated(address)
          handler: handleFirewallAdminUpdated
        - event: FirewallUpdated(address)
          handler: handleFirewallUpdated
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/old-timed-deal-provider.ts
  - kind: ethereum
    name: CollateralProvider
    network: base
    source:
      address: "0x7521fF2baca97397C8936E35dAc225f6bc1070Cf"
      abi: CollateralProvider
      startBlock: 12374335
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - CollateralProviderUpdateParams
      abis:
        - name: CollateralProvider
          file: ./abis/CollateralProvider.json
      eventHandlers:
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/collateral-provider.ts
  - kind: ethereum
    name: RefundProvider
    network: base
    source:
      address: "0x9c8F78E0aeAB8190c9d1DF7BEd0B26c1EDcB8DE6"
      abi: RefundProvider
      startBlock: 12374344
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - RefundProviderUpdateParams
      abis:
        - name: RefundProvider
          file: ./abis/RefundProvider.json
      eventHandlers:
        - event: UpdateParams(indexed uint256,uint256[])
          handler: handleUpdateParams
      file: ./src/refund-provider.ts
